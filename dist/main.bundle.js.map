{"version":3,"sources":["/Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/$_gendir lazy","/Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/app/app.component.html","/Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/app/app.component.scss","/Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/app/app.component.ts","/Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/app/app.module.ts","/Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/app/captcha-data.service.ts","/Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/app/captcha/captcha.component.html","/Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/app/captcha/captcha.component.scss","/Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/app/captcha/captcha.component.ts","/Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/environments/environment.ts","/Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../src/$$_gendir lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/$$_gendir lazy\n// module id = ../../../../../src/$$_gendir lazy recursive\n// module chunks = main","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\n<div style=\\\"text-align:center\\\">\\n  <h1>\\n    BC Gov. CAPTCHA Widget Source Code and Demo\\n  </h1>\\n  <div>\\n\\n    <captcha \\n      apiBaseUrl=\\\"https://captcha-service-gcpe-mygovbc-demo.pathfinder.gov.bc.ca\\\" \\n      nonce=\\\"BCGov Captcha Demo\\\" \\n      successMessage=\\\"You can save or submit form now.\\\"\\n      eagerFetchAudio = \\\"true\\\"\\n      (onValidToken)=\\\"handleAuthToken($event)\\\">\\n    </captcha>    \\n\\n  </div>\\n\\n</div>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = main","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/app/app.component.scss\n// module id = ../../../../../src/app/app.component.scss\n// module chunks = main","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'app';\n  constructor(){\n\n  }\n  public handleAuthToken(token){\n    console.log('valid token received: ');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpModule } from '@angular/http';\nimport { FormsModule } from '@angular/forms';\n\nimport { AppComponent } from './app.component';\nimport { CaptchaComponent } from './captcha/captcha.component';\nimport { CaptchaDataService } from './captcha-data.service';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    CaptchaComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    FormsModule\n  ],\n  providers: [\n    CaptchaDataService\n  ],\n\n  exports: [\n    CaptchaComponent\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/app/app.module.ts","import { Injectable } from '@angular/core';\nimport { Http, Response } from '@angular/http';\nimport {Observable} from \"rxjs/Rx\";\nimport 'rxjs/Rx';\n\n@Injectable()\nexport class CaptchaDataService {\n\n  constructor(private http: Http) { }\n  \n    fetchData(apiBaseUrl:string, nonce:string):Observable<Response> {\n      return this.http.post(apiBaseUrl + '/captcha', {nonce: nonce}, {})\n    }\n  \n    verifyCaptcha(apiBaseUrl:string, nonce:string, answer:string, encryptedAnswer:string):Observable<Response> {\n      return this.http.post(apiBaseUrl + '/verify/captcha', {nonce: nonce, answer: answer, validation: encryptedAnswer}, {});\n    }\n  \n    fetchAudio(apiBaseUrl:string, validation:string):Observable<Response> {\n      return this.http.post(apiBaseUrl + '/captcha/audio', {validation: validation}, {})\n    }\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/app/captcha-data.service.ts","module.exports = \"<div>\\n\\n\\n  <svg style=\\\"position: absolute; width: 0; height: 0; overflow: hidden\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\">\\n    <defs>\\n        <symbol id=\\\"icon-play-def\\\" viewBox=\\\"0 0 32 32\\\">\\n            <path d=\\\"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13zM12 9l12 7-12 7z\\\"></path>\\n        </symbol>  \\n\\n        <symbol id=\\\"icon-loop-def\\\" viewBox=\\\"0 0 32 32\\\">\\n          <path d=\\\"M27.802 5.197c-2.925-3.194-7.13-5.197-11.803-5.197-8.837 0-16 7.163-16 16h3c0-7.18 5.82-13 13-13 3.844 0 7.298 1.669 9.678 4.322l-4.678 4.678h11v-11l-4.198 4.197z\\\"></path>\\n          <path d=\\\"M29 16c0 7.18-5.82 13-13 13-3.844 0-7.298-1.669-9.678-4.322l4.678-4.678h-11v11l4.197-4.197c2.925 3.194 7.13 5.197 11.803 5.197 8.837 0 16-7.163 16-16h-3z\\\"></path>\\n        </symbol>  \\n        \\n        <symbol id=\\\"icon-check-def\\\" viewBox=\\\"0 0 24 24\\\">\\n          <path d=\\\"M9 16.172l10.594-10.594 1.406 1.406-12 12-5.578-5.578 1.406-1.406z\\\"></path>\\n        </symbol>    \\n        \\n        <symbol id=\\\"icon-exclamation-triangle-def\\\" viewBox=\\\"0 0 28 28\\\">\\n            <path d=\\\"M16 21.484v-2.969c0-0.281-0.219-0.516-0.5-0.516h-3c-0.281 0-0.5 0.234-0.5 0.516v2.969c0 0.281 0.219 0.516 0.5 0.516h3c0.281 0 0.5-0.234 0.5-0.516zM15.969 15.641l0.281-7.172c0-0.094-0.047-0.219-0.156-0.297-0.094-0.078-0.234-0.172-0.375-0.172h-3.437c-0.141 0-0.281 0.094-0.375 0.172-0.109 0.078-0.156 0.234-0.156 0.328l0.266 7.141c0 0.203 0.234 0.359 0.531 0.359h2.891c0.281 0 0.516-0.156 0.531-0.359zM15.75 1.047l12 22c0.344 0.609 0.328 1.359-0.031 1.969s-1.016 0.984-1.719 0.984h-24c-0.703 0-1.359-0.375-1.719-0.984s-0.375-1.359-0.031-1.969l12-22c0.344-0.641 1.016-1.047 1.75-1.047s1.406 0.406 1.75 1.047z\\\"></path>\\n        </symbol>\\n        \\n    </defs>\\n  </svg>\\n\\n\\n\\n  <form style=\\\"clear:both\\\" #formRef=\\\"ngForm\\\">\\n    <div [ngClass]=\\\"{'has-error': !!incorrectAnswer}\\\">\\n      <div>\\n        \\n        <div class=\\\"spinner-box\\\" *ngIf=\\\"!state || state === 1\\\">\\n         <div style=\\\"float:left; margin: 2px 0 1px 8px\\\">\\n            <svg class=\\\"lds-spinner\\\" width=\\\"45px\\\"  height=\\\"45px\\\"  xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"0 0 100 100\\\" preserveAspectRatio=\\\"xMidYMid\\\" style=\\\"background: none;\\\"><g transform=\\\"rotate(0 50 50)\\\">\\n                <rect x=\\\"47\\\" y=\\\"22\\\" rx=\\\"9.4\\\" ry=\\\"4.4\\\" width=\\\"6\\\" height=\\\"16\\\" fill=\\\"#1d3f72\\\">\\n                  <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" times=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.8888888888888888s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n                </rect>\\n              </g><g transform=\\\"rotate(40 50 50)\\\">\\n                <rect x=\\\"47\\\" y=\\\"22\\\" rx=\\\"9.4\\\" ry=\\\"4.4\\\" width=\\\"6\\\" height=\\\"16\\\" fill=\\\"#1d3f72\\\">\\n                  <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" times=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.7777777777777778s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n                </rect>\\n              </g><g transform=\\\"rotate(80 50 50)\\\">\\n                <rect x=\\\"47\\\" y=\\\"22\\\" rx=\\\"9.4\\\" ry=\\\"4.4\\\" width=\\\"6\\\" height=\\\"16\\\" fill=\\\"#1d3f72\\\">\\n                  <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" times=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.6666666666666666s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n                </rect>\\n              </g><g transform=\\\"rotate(120 50 50)\\\">\\n                <rect x=\\\"47\\\" y=\\\"22\\\" rx=\\\"9.4\\\" ry=\\\"4.4\\\" width=\\\"6\\\" height=\\\"16\\\" fill=\\\"#1d3f72\\\">\\n                  <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" times=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.5555555555555556s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n                </rect>\\n              </g><g transform=\\\"rotate(160 50 50)\\\">\\n                <rect x=\\\"47\\\" y=\\\"22\\\" rx=\\\"9.4\\\" ry=\\\"4.4\\\" width=\\\"6\\\" height=\\\"16\\\" fill=\\\"#1d3f72\\\">\\n                  <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" times=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.4444444444444444s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n                </rect>\\n              </g><g transform=\\\"rotate(200 50 50)\\\">\\n                <rect x=\\\"47\\\" y=\\\"22\\\" rx=\\\"9.4\\\" ry=\\\"4.4\\\" width=\\\"6\\\" height=\\\"16\\\" fill=\\\"#1d3f72\\\">\\n                  <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" times=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.3333333333333333s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n                </rect>\\n              </g><g transform=\\\"rotate(240 50 50)\\\">\\n                <rect x=\\\"47\\\" y=\\\"22\\\" rx=\\\"9.4\\\" ry=\\\"4.4\\\" width=\\\"6\\\" height=\\\"16\\\" fill=\\\"#1d3f72\\\">\\n                  <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" times=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.2222222222222222s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n                </rect>\\n              </g><g transform=\\\"rotate(280 50 50)\\\">\\n                <rect x=\\\"47\\\" y=\\\"22\\\" rx=\\\"9.4\\\" ry=\\\"4.4\\\" width=\\\"6\\\" height=\\\"16\\\" fill=\\\"#1d3f72\\\">\\n                  <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" times=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.1111111111111111s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n                </rect>\\n              </g><g transform=\\\"rotate(320 50 50)\\\">\\n                <rect x=\\\"47\\\" y=\\\"22\\\" rx=\\\"9.4\\\" ry=\\\"4.4\\\" width=\\\"6\\\" height=\\\"16\\\" fill=\\\"#1d3f72\\\">\\n                  <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" times=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"0s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n                </rect>\\n              </g></svg>\\n         </div>\\n         <div style=\\\"float:left; margin: 16px 0 1px 3px\\\">\\n            Loading CAPTCHA image\\n         </div>\\n         <div style=\\\"clear:both\\\"></div>\\n        </div>\\n        \\n        <div [ngClass]=\\\"{'captcha-box-visible': state === 2, 'captcha-box-invisible': state !== 2}\\\">\\n          <div>\\n            <div style=\\\"float: left;\\\" #image class=\\\"captcha-image\\\"></div>\\n            <audio #audioElement *ngIf=\\\"audio && audio.length > 0\\\" id=\\\"audioElement\\\" [src]=\\\"audio\\\">\\n              Your browser does not support the audio element.\\n            </audio>\\n            <div style=\\\"float: left; margin-top: 8px\\\">\\n              <a class=\\\"play-audio\\\" href=\\\"javascript:void(0)\\\" (click)=\\\"playAudio()\\\" role=\\\"button\\\">\\n                <svg *ngIf=\\\"!fetchingAudioInProgress\\\" class=\\\"icon-play\\\"><use xlink:href=\\\"#icon-play-def\\\"></use></svg>\\n                \\n                <svg *ngIf=\\\"fetchingAudioInProgress\\\" class=\\\"lds-spinner\\\" width=\\\"15px\\\"  height=\\\"15px\\\"  xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"0 0 100 100\\\" preserveAspectRatio=\\\"xMidYMid\\\" style=\\\"background: none;\\\"><g transform=\\\"rotate(0 50 50)\\\">\\n                  <rect x=\\\"45\\\" y=\\\"9\\\" rx=\\\"2.7\\\" ry=\\\"0.54\\\" width=\\\"10\\\" height=\\\"22\\\" fill=\\\"#1d3f72\\\">\\n                    <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" times=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.8888888888888888s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n                  </rect>\\n                </g><g transform=\\\"rotate(40 50 50)\\\">\\n                  <rect x=\\\"45\\\" y=\\\"9\\\" rx=\\\"2.7\\\" ry=\\\"0.54\\\" width=\\\"10\\\" height=\\\"22\\\" fill=\\\"#1d3f72\\\">\\n                    <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" times=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.7777777777777778s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n                  </rect>\\n                </g><g transform=\\\"rotate(80 50 50)\\\">\\n                  <rect x=\\\"45\\\" y=\\\"9\\\" rx=\\\"2.7\\\" ry=\\\"0.54\\\" width=\\\"10\\\" height=\\\"22\\\" fill=\\\"#1d3f72\\\">\\n                    <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" times=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.6666666666666666s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n                  </rect>\\n                </g><g transform=\\\"rotate(120 50 50)\\\">\\n                  <rect x=\\\"45\\\" y=\\\"9\\\" rx=\\\"2.7\\\" ry=\\\"0.54\\\" width=\\\"10\\\" height=\\\"22\\\" fill=\\\"#1d3f72\\\">\\n                    <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" times=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.5555555555555556s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n                  </rect>\\n                </g><g transform=\\\"rotate(160 50 50)\\\">\\n                  <rect x=\\\"45\\\" y=\\\"9\\\" rx=\\\"2.7\\\" ry=\\\"0.54\\\" width=\\\"10\\\" height=\\\"22\\\" fill=\\\"#1d3f72\\\">\\n                    <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" times=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.4444444444444444s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n                  </rect>\\n                </g><g transform=\\\"rotate(200 50 50)\\\">\\n                  <rect x=\\\"45\\\" y=\\\"9\\\" rx=\\\"2.7\\\" ry=\\\"0.54\\\" width=\\\"10\\\" height=\\\"22\\\" fill=\\\"#1d3f72\\\">\\n                    <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" times=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.3333333333333333s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n                  </rect>\\n                </g><g transform=\\\"rotate(240 50 50)\\\">\\n                  <rect x=\\\"45\\\" y=\\\"9\\\" rx=\\\"2.7\\\" ry=\\\"0.54\\\" width=\\\"10\\\" height=\\\"22\\\" fill=\\\"#1d3f72\\\">\\n                    <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" times=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.2222222222222222s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n                  </rect>\\n                </g><g transform=\\\"rotate(280 50 50)\\\">\\n                  <rect x=\\\"45\\\" y=\\\"9\\\" rx=\\\"2.7\\\" ry=\\\"0.54\\\" width=\\\"10\\\" height=\\\"22\\\" fill=\\\"#1d3f72\\\">\\n                    <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" times=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"-0.1111111111111111s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n                  </rect>\\n                </g><g transform=\\\"rotate(320 50 50)\\\">\\n                  <rect x=\\\"45\\\" y=\\\"9\\\" rx=\\\"2.7\\\" ry=\\\"0.54\\\" width=\\\"10\\\" height=\\\"22\\\" fill=\\\"#1d3f72\\\">\\n                    <animate attributeName=\\\"opacity\\\" values=\\\"1;0\\\" times=\\\"0;1\\\" dur=\\\"1s\\\" begin=\\\"0s\\\" repeatCount=\\\"indefinite\\\"></animate>\\n                  </rect>\\n                </g></svg>\\n\\n                Play Audio\\n              </a>\\n              <div style=\\\"clear:both;\\\"></div>\\n              \\n              <a class=\\\"try-another-image\\\" href=\\\"javascript:void(0)\\\" (click)=\\\"retryFetchCaptcha()\\\" role=\\\"button\\\">\\n                  <svg class=\\\"icon-loop icon-loop-def\\\"><use xlink:href=\\\"#icon-loop-def\\\"></use></svg>                \\n                Try another image\\n              </a>\\n            </div>\\n          </div>\\n          <div style=\\\"clear:both; margin-bottom: 8px;\\\"></div>\\n          <div style=\\\"float:left;\\\">\\n            <label for=\\\"answer\\\">\\n                Enter the text you either see in the orange box or you hear in the audio\\n              <input id=\\\"answer\\\" type=\\\"text\\\"\\n                #userAnswerRef = \\\"ngModel\\\"\\n                [(ngModel)]=\\\"answer\\\"\\n                (input)=\\\"answerChanged($event)\\\"\\n                [ngClass]=\\\"{'captcha-wrong-answer': userAnswerRef.dirty && incorrectAnswer}\\\"\\n                name=\\\"answer\\\"\\n                maxlength=\\\"6\\\"\\n                required\\n                autocorrect=\\\"off\\\" \\n                autocapitalize=\\\"none\\\">\\n            </label>\\n          </div>\\n        </div>\\n        <div style=\\\"clear:both;\\\"></div>\\n        <div style=\\\"float:left;\\\">\\n\\n        <div class=\\\"error-captcha\\\" *ngIf=\\\"state === 3\\\" role=\\\"alert\\\" aria-live=\\\"assertive\\\">\\n          <div style=\\\"float:left; margin-left: 5px;\\\">\\n            <svg class=\\\"icon-exclamation-triangle\\\"><use xlink:href=\\\"#icon-exclamation-triangle-def\\\"></use></svg>\\n  \\n            <span> Error happened while retreiving CAPTCHA image. please \\n              <a href=\\\"javascript:void(0)\\\" (click)=\\\"retryFetchCaptcha()\\\">click here</a> \\n                to try again\\n            </span>\\n          </div>\\n          <div style=\\\"clear:both\\\"></div>\\n          \\n          <div style=\\\"float:left; margin-left: 25px;\\\">\\n              {{errorFetchingImg}}\\n          </div>\\n          <div style=\\\"clear:both\\\"></div>\\n        </div>\\n        \\n        <div class=\\\"spinner-box\\\" *ngIf=\\\"state == 4\\\" role=\\\"alert\\\" aria-live=\\\"assertive\\\">\\n          <span>Verifying your answer...</span>\\n        </div>\\n        <div class=\\\"error-captcha\\\" *ngIf=\\\"state === 6\\\"  role=\\\"alert\\\" aria-live=\\\"assertive\\\">\\n          <svg class=\\\"icon-exclamation-triangle\\\"><use xlink:href=\\\"#icon-exclamation-triangle-def\\\"></use></svg>\\n          <span> Error happened while verifying your answer. please \\n            <a href=\\\"javascript:void(0)\\\" (click)=\\\"retryFetchCaptcha()\\\">click here</a> \\n              to try again\\n          </span>\\n          <p>\\n          </p>\\n        </div>\\n        \\n        <div class=\\\"captcha-error\\\" style=\\\"margin-top: 2px\\\" *ngIf=\\\"incorrectAnswer === true\\\" role=\\\"alert\\\" aria-live=\\\"assertive\\\">\\n          Incorrect answer, please try again.\\n        </div>\\n      </div>\\n      \\n      </div>\\n    </div>\\n  </form>\\n\\n  <div class=\\\"confirm-correct-answer\\\" style=\\\"float:left\\\" *ngIf=\\\"state === 5\\\" role=\\\"alert\\\" aria-live=\\\"assertive\\\">\\n    <svg class=\\\"icon-check\\\"><use xlink:href=\\\"#icon-check-def\\\"></use></svg>\\n    Correct. <span>{{successMessage}}</span>\\n  </div>\\n  <div style=\\\"clear:both;\\\"></div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/app/captcha/captcha.component.html\n// module id = ../../../../../src/app/captcha/captcha.component.html\n// module chunks = main","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".confirm-correct-answer {\\n  display: block;\\n  color: green; }\\n\\n.confirm-correct-answer i {\\n  color: green; }\\n\\n.spinner-box {\\n  height: 60px;\\n  margin: 2px 10px 6px 10px;\\n  padding: 5px 10px 5px 18px; }\\n\\n.error-captcha {\\n  margin-left: 10px; }\\n\\n.error-captcha svg {\\n  color: darkorange; }\\n\\n.error-captcha p {\\n  margin-left: 32px; }\\n\\n.captcha-box-visible {\\n  display: block; }\\n\\n.captcha-box-invisible {\\n  display: none; }\\n\\n.captcha-image {\\n  display: inline-block;\\n  border: 1px solid gray; }\\n\\n.play-audio {\\n  float: left;\\n  display: block;\\n  margin-left: 5px;\\n  margin-bottom: 3px; }\\n\\n.try-another-image {\\n  display: inline-block;\\n  margin-left: 5px; }\\n\\n.has-error {\\n  border-color: #dc3545; }\\n  .has-error:focus {\\n    box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25); }\\n\\ninput[type=\\\"text\\\"] {\\n  display: block;\\n  margin: 0;\\n  width: 100%;\\n  font-size: 20px;\\n  box-shadow: none;\\n  border-radius: none;\\n  padding: 6px;\\n  border: solid 1px #ccc;\\n  transition: box-shadow 0.3s, border 0.3s; }\\n  input[type=\\\"text\\\"]:focus {\\n    border: solid 1px white;\\n    box-shadow: 0 0 1px 1px #2196F3; }\\n  input[type=\\\"text\\\"].captcha-wrong-answer {\\n    border: solid 1px #a94442; }\\n\\ninput[type=\\\"text\\\"]:focus {\\n  outline: none; }\\n\\n.captcha-error {\\n  color: #a94442; }\\n\\n.icon-play {\\n  display: inline-block;\\n  width: 1em;\\n  height: 1em;\\n  stroke-width: 0;\\n  stroke: currentColor;\\n  fill: currentColor; }\\n\\n.icon-check {\\n  display: inline-block;\\n  width: 1em;\\n  height: 1em;\\n  stroke-width: 0;\\n  stroke: currentColor;\\n  fill: currentColor; }\\n\\n.icon-loop {\\n  display: inline-block;\\n  width: 1em;\\n  height: 1em;\\n  stroke-width: 0;\\n  stroke: currentColor;\\n  fill: currentColor; }\\n\\n.icon-exclamation-triangle {\\n  display: inline-block;\\n  width: 1em;\\n  height: 1em;\\n  stroke-width: 0;\\n  stroke: currentColor;\\n  fill: currentColor; }\\n\\n.spinner {\\n  -webkit-animation: rotator 1.4s linear infinite;\\n          animation: rotator 1.4s linear infinite; }\\n\\n@-webkit-keyframes rotator {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n            transform: rotate(0deg); }\\n  100% {\\n    -webkit-transform: rotate(270deg);\\n            transform: rotate(270deg); } }\\n\\n@keyframes rotator {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n            transform: rotate(0deg); }\\n  100% {\\n    -webkit-transform: rotate(270deg);\\n            transform: rotate(270deg); } }\\n\\n.path {\\n  stroke-dasharray: 187;\\n  stroke-dashoffset: 0;\\n  -webkit-transform-origin: center;\\n          transform-origin: center;\\n  -webkit-animation: dash 1.4s ease-in-out infinite, colors 5.6s ease-in-out infinite;\\n          animation: dash 1.4s ease-in-out infinite, colors 5.6s ease-in-out infinite; }\\n\\n@-webkit-keyframes colors {\\n  0% {\\n    stroke: #9E9E9E; }\\n  25% {\\n    stroke: #757575; }\\n  50% {\\n    stroke: #616161; }\\n  75% {\\n    stroke: #424242; }\\n  100% {\\n    stroke: #212121; } }\\n\\n@keyframes colors {\\n  0% {\\n    stroke: #9E9E9E; }\\n  25% {\\n    stroke: #757575; }\\n  50% {\\n    stroke: #616161; }\\n  75% {\\n    stroke: #424242; }\\n  100% {\\n    stroke: #212121; } }\\n\\n@-webkit-keyframes dash {\\n  0% {\\n    stroke-dashoffset: 187; }\\n  50% {\\n    stroke-dashoffset: 46.75;\\n    -webkit-transform: rotate(135deg);\\n            transform: rotate(135deg); }\\n  100% {\\n    stroke-dashoffset: 187;\\n    -webkit-transform: rotate(450deg);\\n            transform: rotate(450deg); } }\\n\\n@keyframes dash {\\n  0% {\\n    stroke-dashoffset: 187; }\\n  50% {\\n    stroke-dashoffset: 46.75;\\n    -webkit-transform: rotate(135deg);\\n            transform: rotate(135deg); }\\n  100% {\\n    stroke-dashoffset: 187;\\n    -webkit-transform: rotate(450deg);\\n            transform: rotate(450deg); } }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/app/captcha/captcha.component.scss\n// module id = ../../../../../src/app/captcha/captcha.component.scss\n// module chunks = main","import {Component, ElementRef, ViewChild, \n  ChangeDetectorRef, Output, Input, AfterViewInit, OnInit, EventEmitter} from '@angular/core';\nimport { Http, Response } from '@angular/http';\nimport { CaptchaDataService } from '../captcha-data.service';\n\n@Component({\n  selector: 'captcha',\n  templateUrl: './captcha.component.html',\n  styleUrls: ['./captcha.component.scss']\n})\nexport class CaptchaComponent implements AfterViewInit, OnInit {\n\n  @ViewChild('image') imageContainer: ElementRef;\n  @ViewChild('audioElement') audioElement: ElementRef;\n  @Input('apiBaseUrl') apiBaseUrl: string;\n  @Input('nonce') nonce: string;\n  @Output() onValidToken = new EventEmitter<string>();\n  @Input('successMessage') successMessage:String;\n  @Input('eagerFetchAudio') eagerFetchAudio:String;\n\n  /**\n   * Http error response for fetching a CAPTCHA image.\n   */\n  errorFetchingImg = null;\n\n  /**\n   * Http error response for verifying user's answer.\n   */\n  errorVerifyAnswer = null;\n\n  private validation = \"\";\n  public audio = \"\";\n  public answer = \"\";\n\n  state:CAPTCHA_STATE;\n  incorrectAnswer:boolean;\n\n  public fetchingAudioInProgress = false;\n\n  constructor(private dataService: CaptchaDataService,\n    private cd: ChangeDetectorRef) {\n  }\n\n  ngOnInit(){\n    if(!this.successMessage){\n      this.successMessage = \"You can submit your application now.\";\n    }\n  }\n  ngAfterViewInit() {\n    this.getNewCaptcha(false);\n    this.cd.detectChanges();\n  }\n\n  answerChanged (event:any) {\n    if(this.answer.length < 6){\n      this.incorrectAnswer = null;\n    }\n    if (this.answer.length === 6) {\n      this.state = CAPTCHA_STATE.VERIFYING_ANSWER;\n      this.incorrectAnswer = null;\n      this.dataService.verifyCaptcha(this.apiBaseUrl, this.nonce, this.answer, this.validation).subscribe(\n        (res:Response) => {\n          let payload = res.json();\n          if( this.isValidPayload(payload)){\n            this.handleVerify(payload);\n          }else{\n            this.state = CAPTCHA_STATE.ERROR_VERIFY;\n            this.errorVerifyAnswer = this.createErrorTextLine(res);\n          }\n        },\n        (error:Response) => {\n          this.state = CAPTCHA_STATE.ERROR_VERIFY;\n          this.errorVerifyAnswer = this.createErrorTextLine(error);\n          console.log('Error response from verifying user answer: %o', error);\n        }\n      );\n    }\n  }\n\n  // Call the backend to see if our answer is correct\n  private handleVerify(payload:any) {\n    //There could be the rare change where an invalid payload response is received.\n    if (payload.valid === true) {\n      this.state = CAPTCHA_STATE.SUCCESS_VERIFY_ANSWER_CORRECT;\n      this.onValidToken.emit(payload.jwt);\n    } else {\n      this.incorrectAnswer = true;\n      this.answer = \"\";\n      this.audio = \"\";\n      // They failed - try a new one.\n      this.getNewCaptcha(true);\n    }\n  }\n\n  /**\n   * Case where HTTP 200 response code is received by the payload is incorrect or corrupt.\n   * The occurance of this type of case should be rare.\n   * @param payload \n   */\n  private isValidPayload(payload){\n    // console.debug('Response payload: %o', payload);\n    if(!payload){\n      console.error(\"payload cannot be null or undefined or 0\");\n      return false;\n    }else{\n      let hasValueProp = payload.hasOwnProperty('valid');\n      if(!hasValueProp){\n        console.error('payload must have its own property named \\'valid\\'');\n        return false;\n      }else{\n        return true;\n      }\n    }\n  }\n\n  public retryFetchCaptcha() {\n    this.state = undefined;\n\n    /**\n     * wait for 0.5 seond before resubmitting\n     */\n    setTimeout(() => {\n      this.getNewCaptcha(false)\n    }, 100);\n  }\n\n  public playAudio() {\n    if (this.audio && this.audio.length > 0) {\n       this.audioElement.nativeElement.play();\n    }\n    else {\n      this.fetchAudio(true);\n    }\n  }\n\n  private fetchAudio(playImmediately:boolean = false){\n    if(!this.fetchingAudioInProgress){\n      this.fetchingAudioInProgress = true;\n      this.dataService.fetchAudio(this.apiBaseUrl, this.validation).subscribe(\n        (response: Response) => {\n          this.fetchingAudioInProgress = false;\n          let payload = response.json();\n          this.audio = payload.audio;\n          this.cd.detectChanges();\n          if(playImmediately){\n            this.audioElement.nativeElement.play();\n          }\n        },\n        (error: Response) => {\n          this.fetchingAudioInProgress = false;\n          console.log('Error response from fetching audio CAPTCHA: %o', error);\n          this.cd.detectChanges();\n        }\n      );\n    }\n  }\n\n  public getNewCaptcha(errorCase:any) {\n    this.state = CAPTCHA_STATE.FETCHING_CAPTCHA_IMG;\n    this.audio = \"\";\n\n    // Reset things\n    if (!errorCase) {\n      // Let them know they failed instead of wiping out the answer area\n      // Contructing this form on page load/reload will have errorCase = false\n      this.incorrectAnswer = null;\n    }\n\n    this.dataService.fetchData(this.apiBaseUrl, this.nonce).subscribe(\n      (response:Response) => {\n        this.state = CAPTCHA_STATE.SUCCESS_FETCH_IMG;\n\n        let payload = response.json();\n        this.imageContainer.nativeElement.innerHTML = payload.captcha;\n        this.validation = payload.validation;\n        this.cd.detectChanges();\n\n        if(this.eagerFetchAudio === 'true'){\n          // console.log('Fetch audio eagerly');\n          this.fetchAudio();\n        }else{\n          // console.log('Not to fetch audio eagerly');\n        }\n      },\n\n      (error:Response) => {\n        this.state = CAPTCHA_STATE.ERROR_FETCH_IMG;\n        this.errorFetchingImg = this.createErrorTextLine(error);\n        console.log('Error esponse from fetching CAPTCHA text: %o', error);\n        this.cd.detectChanges();\n      }\n    );\n  }\n\n  private createErrorTextLine(error:Response){\n\n    let line = 'Error status: ' + error.status;\n    if(error.statusText){\n      line = line + ', status text: ' + error.statusText;\n    }\n    return line;\n  }\n\n}\n\n/**\n * 7 mutually exclusive states, the program can only be in one of these state\n * at any given point..\n */\nenum CAPTCHA_STATE {\n  FETCHING_CAPTCHA_IMG = 1,\n  SUCCESS_FETCH_IMG = 2,\n  ERROR_FETCH_IMG = 3,\n  VERIFYING_ANSWER = 4,\n  SUCCESS_VERIFY_ANSWER_CORRECT = 5,\n  //http error during verification call.\n  ERROR_VERIFY = 6,\n  // SUCCESS_VERIFY_ANSWER_INCORRECT = 6,\n}\n\n\n// WEBPACK FOOTER //\n// /Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/app/captcha/captcha.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// /Users/yiling/work/MyGovBC-CAPTCHA-Widget/src/main.ts"],"sourceRoot":"webpack:///"}